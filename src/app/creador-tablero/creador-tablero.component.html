<div class="p-4">
  <h2>Crear Tablero</h2>
  <label>
    Nombre:
    <input [(ngModel)]="nombreTablero" />
  </label>

  <div>
    Filas:
    <input type="number" [(ngModel)]="filas" min="1" />
    Columnas:
    <input type="number" [(ngModel)]="columnas" min="1" />
    <button (click)="generarTablero()">Generar</button>
  </div>

  <div *ngIf="tableroGrid.length">
    <h3>Tablero</h3>
    <table border="1">
      <tr *ngFor="let fila of tableroGrid; let i = index" class="tablero">
        <td *ngFor="let celda of fila; let j = index" (click)="seleccionarCelda(i, j)" class="celda">
          <div>
            <p id="masTablero">+</p>
            <!-- Aquí se elimina el panel dentro de la celda -->
          </div>
        </td>
      </tr>
    </table>

    <button (click)="guardarTablero()">Guardar Tablero</button>
  </div>
  <!-- PANEL LATERAL DE EDICIÓN DE CELDA -->
  <div *ngIf="selectedCell" class="panel-lateral">
    <div class="panel-header">
      <h3>Celda: ({{ selectedCell.fila }}, {{ selectedCell.columna }})</h3>
      <button class="cerrar" (click)="cerrarPanel()">✕</button>
    </div>

    <div class="preview">
      <p><strong>Acciones actuales:</strong></p>
      <ul>
        <li *ngFor="let accion of tableroGrid[selectedCell.fila][selectedCell.columna].acciones">
          {{ accion.tipo }} (ID: {{ accion.id }})
        </li>
      </ul>
    </div>

    <div class="agregar">
      <p><strong>Agregar acción:</strong></p>
      <button *ngFor="let tipo of accionesDisponibles"
              (click)="agregarAccion(selectedCell.fila, selectedCell.columna, tipo)">
        + {{ tipo }}
      </button>
    </div>
  </div>
</div>
